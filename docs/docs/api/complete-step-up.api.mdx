---
id: complete-step-up
title: "Complete Step-Up"
description: "Perform second factor for step-up."
sidebar_label: "Complete Step-Up"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Complete Step-Up"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/step-up"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Perform second factor for step-up.

You can learn more about the step-up flow [here](../../docs/guides/auth/authentication#step-up).

### Requirements
- User authenticated using their password through [`POST /api/auth/step-up`](../../docs/api/step-up).
- At least one of [email](../../docs/guides/auth/two-factor#email) or [TOTP](../../docs/guides/auth/two-factor#totp) as 2FA methods should be enabled.
- An `email` or `totp` 2FA code is present for an enabled 2FA method.
  Check out [email](../../docs/guides/auth/two-factor#email) and [TOTP](../../docs/guides/auth/two-factor#totp)
  to learn how to retrieve a 2FA code.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`TwoFactorAuthenticationToken`](../../docs/guides/auth/tokens#two-factor-authentication-token)
  is required. This token should match user and session contained in the `AccessToken`.
- If 2FA is disabled and the request is successful, [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  will automatically be set as HTTP-only cookie.
  If [header authentication](../../docs/guides/auth/authentication#header-authentication) is enabled,
  the [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  will be returned in the response body and can be used to authorized critical requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"totp":{"type":"integer","format":"int32"}},"title":"CompleteStepUpRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The token if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"title":"StepUpResponse"}}}},"400":{"description":"No 2FA code for an enabled 2FA method was provided or 2FA is disabled.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid or expired `TwoFactorAuthenticationToken` or invalid or expired 2FA code.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      