---
id: complete-step-up
title: "Complete Step-Up"
description: "Perform second factor for step-up."
sidebar_label: "Complete Step-Up"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Complete Step-Up"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/step-up"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Perform second factor for step-up.

You can learn more about the step-up flow [here](https://singularity.stereov.io/docs/guides/auth/authentication#step-up).

**Requirements:**
- User authenticated using their password through [`POST /api/auth/step-up`](https://singularity.stereov.io/docs/api/step-up).
- At least one of [email](https://singularity.stereov.io/docs/guides/auth/two-factor#email) or [TOTP](https://singularity.stereov.io/docs/guides/auth/two-factor#totp) as 2FA methods should be enabled.
- An `email` or `totp` 2FA code is present for an enabled 2FA method.
  Check out [email](https://singularity.stereov.io/docs/guides/auth/two-factor#email) and [TOTP](https://singularity.stereov.io/docs/guides/auth/two-factor#totp)
  to learn how to retrieve a 2FA code.

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`TwoFactorAuthenticationToken`](https://singularity.stereov.io/docs/guides/auth/tokens#two-factor-authentication-token)
  is required. This token should match user and session contained in the `AccessToken`.
- If 2FA is disabled and the request is successful, [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  will automatically be set as HTTP-only cookie.
  If [header authentication](https://singularity.stereov.io/docs/guides/auth/authentication#header-authentication) is enabled,
  the [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  will be returned in the response body and can be used to authorized critical requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"totp":{"type":"integer","format":"int32"}},"title":"CompleteStepUpRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"The token if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"title":"StepUpResponse"}}}},"400":{"description":"No 2FA code for an enabled 2FA method was provided or 2FA is disabled.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid or expired `TwoFactorAuthenticationToken` or invalid or expired 2FA code.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      