---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](../../docs/guides/auth/two-factor#email).

A [security alert](../../docs/guides/auth/security-alerts#2fa-specific-alerts)
will be sent to the user's email if this setting is enabled and
email is [enabled and configured correctly](../../docs/guides/email/configuration).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

>**Note:** If [email is enabled](../../docs/guides/email/configuration) in your application,
>email is 2FA method will be enabled by default for every user that registers with a password.

### Locale

A locale can be specified for this request. 
The email will be sent in the specified locale.
You can learn more about locale in emails [here](../../docs/guides/email/templates).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](../../docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      