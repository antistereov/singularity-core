---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](../../docs/guides/auth/two-factor#email).

A [security alert](../../docs/guides/auth/security-alerts#2fa-specific-alerts)
will be sent to the user's email if this setting is enabled and
email is [enabled and configured correctly](../../docs/guides/email/configuration).

**Requirements:**
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

**Note:** If [email is enabled](../../docs/guides/email/configuration) in your application,
email is 2FA method will be enabled by default for every user that registers with a password.

**Locale:**

A locale can be specified for this request. 
The email will be sent in the specified locale.
You can learn more about locale in emails [here](../../docs/guides/email/templates).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](../../docs/guides/configuration).

**Tokens:**
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      