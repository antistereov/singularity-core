---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](https://singularity.stereov.io/docs/guides/auth/two-factor#email).

**Requirements:**
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

**Note:** If [email is enabled](https://singularity.stereov.io/docs/guides/email/configuration) in your application,
email is 2FA method will be enabled by default for every user that registers with a password.

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      