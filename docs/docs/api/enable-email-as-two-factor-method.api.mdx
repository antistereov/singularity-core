---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](../../docs/guides/auth/two-factor#email).

A [security alert](../../docs/guides/auth/security-alerts#2fa-specific-alerts)
will be sent to the user's email if this setting is enabled and
email is [enabled and configured correctly](../../docs/guides/email/configuration).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

>**Note:** If [email is enabled](../../docs/guides/email/configuration) in your application,
>email is 2FA method will be enabled by default for every user that registers with a password.

### Locale

A locale can be specified for this request. 
The email will be sent in the specified locale.
You can learn more about locale in emails [here](../../docs/guides/email/templates).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](../../docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      