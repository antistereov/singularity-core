---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](https://singularity.stereov.io/docs/guides/auth/two-factor#email).

A [security alert](https://singularity.stereov.io/docs/guides/auth/security-alerts#2fa-specific-alerts)
will be sent to the user's email if this setting is enabled and
email is [enabled and configured correctly](https://singularity.stereov.io/docs/guides/email/configuration).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

>**Note:** If [email is enabled](https://singularity.stereov.io/docs/guides/email/configuration) in your application,
>email is 2FA method will be enabled by default for every user that registers with a password.

### Locale

A locale can be specified for this request. 
The email will be sent in the specified locale.
You can learn more about locale in emails [here](https://singularity.stereov.io/docs/guides/email/templates).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](https://singularity.stereov.io/docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","createdAt","id","key","renditions","tags","trusted","updatedAt"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      