---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](https://singularity.stereov.io/docs/guides/auth/two-factor#email).

A [security alert](https://singularity.stereov.io/docs/guides/auth/security-alerts#2fa-specific-alerts)
will be sent to the user's email if this setting is enabled and
email is [enabled and configured correctly](https://singularity.stereov.io/docs/guides/email/configuration).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

>**Note:** If [email is enabled](https://singularity.stereov.io/docs/guides/email/configuration) in your application,
>email is 2FA method will be enabled by default for every user that registers with a password.

### Locale

A locale can be specified for this request. 
The email will be sent in the specified locale.
You can learn more about locale in emails [here](https://singularity.stereov.io/docs/guides/email/templates).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](https://singularity.stereov.io/docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","createdAt","id","key","renditions","tags","trusted","updatedAt"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      