---
id: enable-email-as-two-factor-method
title: "Enable Email as 2FA Method"
description: "Enable email as 2FA method."
sidebar_label: "Enable Email as 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Enable Email as 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/email/enable"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Enable email as 2FA method.

Learn more about email as 2FA method [here](https://singularity.stereov.io/docs/guides/auth/two-factor#email).

**Requirements:**
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.

**Note:** If [email is enabled](https://singularity.stereov.io/docs/guides/email/configuration) in your application,
email is 2FA method will be enabled by default for every user that registers with a password.

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"],"title":"EnableEmailTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorAuthMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorAuthMethods"],"title":"UserResponse"}}}},"304":{"description":"This method is already enabled for the user.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"2FA cannot be enabled for users who didn't configure authentication using a password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid `AccessToken` or `StepUpToken`.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      