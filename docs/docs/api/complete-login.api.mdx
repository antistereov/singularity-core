---
id: complete-login
title: "Complete Login"
description: "Perform second factor for login. A TwoFactorAuthenticationToken is required. This token can be obtained by calling POST /api/auth/login. If successful, an AccessToken and RefreshToken will be set as HTTP-only cookies and returned in the response body if header authentication is enabled."
sidebar_label: "Complete Login"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Complete Login"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/login"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Perform second factor for login. A TwoFactorAuthenticationToken is required. This token can be obtained by calling POST /api/auth/login. If successful, an AccessToken and RefreshToken will be set as HTTP-only cookies and returned in the response body if header authentication is enabled.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"totp":{"type":"integer","format":"int32"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"title":"TwoFactorAuthenticationRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Information about the user and the tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorAuthMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","email","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorAuthMethods"],"title":"UserResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"twoFactorRequired":{"type":"boolean"},"allowedTwoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"twoFactorAuthenticationToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["twoFactorRequired","user"],"title":"LoginResponse"}}}},"401":{"description":"Not authorized.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"403":{"description":"This 2FA method is disabled.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      