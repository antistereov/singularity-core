---
id: generate-o-auth-2-provider-connection-token
title: "Generate OAuth2ProviderConnectionToken"
description: "Generate an OAuth2ProviderConnectionToken that enables the user to connect new OAuth2 providers."
sidebar_label: "Generate OAuth2ProviderConnectionToken"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Generate OAuth2ProviderConnectionToken"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/oauth2/token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Generate an OAuth2ProviderConnectionToken that enables the user to connect new OAuth2 providers.

You can learn more about connecting OAuth2 providers to existing accounts 
[here](../../docs/guides/auth/oauth2#connecting-an-oauth2-provider-to-an-existing-account).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string"}},"required":["provider"],"title":"OAuth2ProviderConnectionRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Returns the token if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"title":"OAuth2ProviderConnectionTokenResponse"}}}},"401":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`AUTHENTICATION_REQUIRED`:** User is not authenticated.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"500":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`OAUTH2_PROVIDER_CONNECTION_TOKEN_ENCODING_FAILURE`:** Represents an exception that occurs during the encoding process of an OAuth2 provider connection token.\n* **`OAUTH2_PROVIDER_CONNECTION_TOKEN_SECRET_FAILURE`:** Represents an exception that occurs when there is a failure related to the secret required for creating an OAuth2 provider connection token.\n* **`COOKIE_CREATION_FAILURE`:** Thrown when an exception occurred during the creation of a cookie.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      