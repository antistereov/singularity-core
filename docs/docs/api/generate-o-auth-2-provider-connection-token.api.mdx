---
id: generate-o-auth-2-provider-connection-token
title: "Generate OAuth2ProviderConnectionToken"
description: "Generate an OAuth2ProviderConnectionToken that enables the user to connect new OAuth2 providers."
sidebar_label: "Generate OAuth2ProviderConnectionToken"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Generate OAuth2ProviderConnectionToken"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/oauth2/token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Generate an OAuth2ProviderConnectionToken that enables the user to connect new OAuth2 providers.

You can learn more about connecting OAuth2 providers to existing accounts 
[here](../../docs/guides/auth/oauth2#connecting-an-oauth2-provider-to-an-existing-account).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"provider":{"type":"string"}},"required":["provider"],"title":"OAuth2ProviderConnectionRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Returns the token if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"title":"OAuth2ProviderConnectionTokenResponse"}}}},"401":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"500":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`OAUTH2_PROVIDER_CONNECTION_TOKEN_ENCODING_FAILURE`:** Represents an exception that occurs during the encoding process of an OAuth2 provider connection token.\n* **`OAUTH2_PROVIDER_CONNECTION_TOKEN_SECRET_FAILURE`:** Represents an exception that occurs when there is a failure related to the secret required for creating an OAuth2 provider connection token.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      