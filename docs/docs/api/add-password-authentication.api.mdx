---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: eJztG21727bxr6DM1saaXtwk2zpvbcNYcqJVtvRIcpPMchWYhCQ0JMERoBXX83/fHUBKIEU7cuxseTZ/SSjgcHc43AvucL50FJ1LZ+/E6bupWjxxTuuOz6SX8FhxETl7zn7CqGKEkogtCfdZpLi6IHEizuFHQmYiIWrBiJcmCcyRVDIcoIrQIBBLqSfNoCCBmPOILLlaAL6YSrkUid+cRJPorUiJRyMSMJpEJBQJUDwTqYLlXJKTBUvY6eOFUrHca7Ukj+ZpQBNgpCkVTInzJhctX3iyNU+BLdmisJmWwH+fPKK+DwsaOb0GjuI2PIpb3NH0Hz16RIbsnylPWAhzchI1yDjnPGFzrun45JxTAmwaYa2ksEIxFu9ZpBe75JwG3Ccn71zPY1LqmXe334PSGB9RjaShf+0QEElimEXp2cRGisXH8R2JAUjcSOOM2iQiBYIgF/ip54hciDTwSUiVtzCyopFPJLAKkiWeiBTlEYgNTh31oCCLplN32AfgJqJBGzhx9i6dNAlA5T7LOTtXdUfELNE/uj6QAfhBBusWQesO7pZJ9UL4F8gX7gTm8ZPGcZDBtX6VaCKXjvQWLKT4pS5iBqjF2a/MU4AHNARoKs709nLWLEipEmDaKVtdrnvfSOIthARRr8yFdBUJU6nIGdiIQouB7+8AjCbUAylJMLNorg+CR16Q+haYiABtDBx5VDIYUwBf16NgqxWjURqe4Tciw98yZh6nwZoYefzV80e/+/0vX9ce70z/8P3l1cnpvyaTvb9+M3H+9kO9+WNrxxwzDeMAtzt6Co7i6eA57GU38b9CCVEkh3v+5fGP3zdrJ7uNv5zumE/a+C3/dBv/yD9tipNJA4hOJieTCRLOSdd/ANKnO83L7+pXztWVOU/UXvR0q1MAXwfOTPPlXqcLQ6MIgKSARSUp0wMyFpE0p/tkdxf/Kx7kKNUqj1KwlKjWqt1Gb7j/cRjFQ+AT5GyBciA4ZwnAgpsGIzVDT5+gLfjg1av0cAWJAA3EqgWYC6qvqYP9wFhEwwoUMAGb4kHlTB5ABpnnlBYUTRJ6ARxwxUJZsRrlLQJ24xJQ0v4MDhnsNAiyr5vlBp4zrd4FRCsU3sdPR/YAEhb1ZzML+kwAszTSph0nDNQpV5yysR+D1dlIHoOHj8DhUS1lLsdga6wT0bOA+XcgYKMpk3gNYffuFCwsZQLdaCbuTsDCUibQZmfp/O4UbDRlEp0kEcndSdhoiiSuMaiS/yrtdYOzsrjrRQ3d0Kjy+Wd8WN7xp54xhTInmYXUMyOyVgxBJM4VDDAIIQj68rgzGtsQL41brT9Y6oOlPljqF2Spx6POEADd9mH3yAYEkQDeU0CcRhwuRV0Tc7ObkA75P7OEz3ilyNFK4QbqeoqfVxuxWooDuFOKBC9g15/dFRo1mzFIN/1xvuSQqYWovFbnu1JCxU5+Mzm1yZm1t7iIXIsUsNJzqug2nujLvNG9ZxeVZ+PpIoDvqm3xg5LE/m2XmCT344IRy4gl3S9Tgudc8jMewBX3JsUZDLs/u+MOjAyOX/S6+/AxeuUOO22tmh6NOj5X1coPk20GORqrmi5Z/Rp2jbS+El+BWcvQ902eYnL1NoMUPpDDLNFxNIUIEIGfrDwqzMJxkgaD4lnceFLXKZ7kv7GPHt6fnmnBGLbHGrICla4tVIwvua8WWyrIgvH5Qm0FXD4KiztjZ9nmDGOW+A94wIa5iNdyLyPMjMW2TUyvVsitU7KNsUQInB+FKWqf7w3GDrPzRKTxbdK2qnhRFo61hWIgWdHL9raZPxbiShYQ80TxmqBS4fxLcc4WO/D6ZPfPm5m9a6ohM+4RXwDTEWEY24nwdC3UJ48lYyTgulITiOXO3iSqkVrt3aA/Gk/3+4eH3fF01G13pp2Dg87+eHrgdnvHw867vVqNdD54TBMiCd5UJO4aizpkBtJJE4bVVDAfVDoYlCAKwmYzsCxCZ1iWgTFTeJilAcEDPsPSzqr+1cxYwVg/dcEVucPpoTsYdI9eFtg4AGqwEyAW0piY4EbCTGea/2v7KdZobiz0Gb14uvvsPvXCHY1e94ftqdsbdtz22+moM9Zc55UpLMPSAGzFvyCSqeanrrv1Pp/tfnuP+3T39zuj0XTc/6lzNO28GXQh7ml+u+Cx8E4uzQMCVoyNl8uqzbAN9iHOqt6bqLpHP7u97naoIBpGQpdQfeYJf41xNO4MpseD7bjLCuXXsldE9hH+isi2ZPCwOxqBkmuc40UCoZ0sFyyq5i7kEkvqlcJ7OIf//Dl8gh3ep7/RzvKoD466f3xkxIGxj+B+ZyKN/ObWgLfeyR+rauX341HcXq//uteFmITesBwBhnn4kfiOx1ZhiRtFKAYlfYToN3FY6y6+aWoG8N0TEJSUGTaZC60NQeiFO+psFwbnDO7kNFhRTliANyKMVJvRTm7Q6BztD98Oxt3+0f2RY5GXXJjVN1D+jLt75Y5e3Rn/gsoFAm2iz9zAFHKxo/3uwO1N2/3948POkQmeLsneAAFPDDdZj8dAwRdeig/EZEklGLZIzOMmRQUyb7AmD6h0jA+a+aCZ/33NvKWvxiScgf/VFQ18V1s/4b8C/cOy+wlkT3LdeLAe1tX9Nfy+EO8524BfD2MZMsxKeU4spDLvw5CdOy0a8xa+iMtWyFp544VsrR5zkc3kXL8onmzXSLDx6N5moSAGi36YWCMBHIHwaLAAnva+24XgVV7bw2m4I5xDYIr1OeSITtcCHKFgs3KInZiun5sLAlmn2DH/SSf1RZqddapsr8ZkGlURHYGVNRXbIUwXjk629et+Lse67W+eHLiF1o+KLp1PbM3JOk1ACo2ZFkOpWyPrPWnmGf0eCmxqQKdF0KkGxdoAysQzsltVEwsauRIosrshTtf2mCg809BSINYk9y6DQmsPblibny7rAQldWzIfB3mF6e+vx6UNbqsxW23x8+8wO1Izft35VXiI+zAIwErgMl6yBh0+tcs2EhIzoo0WPbYUaQKD9y+XYp+VJRicmKbxdZK5yXdsqPqD79hz3jTGAGxk1igKrXGzIHLhL4xYdd1yBiqxuIVfGZoVmdVB5M/Ct+6otK9pn0HFMm4/wbtUBPT/F/N708A2ysZxfCfl2NZpfVnqkYkgm6j2QLBRvCoO1z2SnbzBz+5x3Gj2w6f5aCbMy5wpto/W/BJ30N0QzmsWeCLU5WHMcmoWfO0rgm23uhs1v/wabfIE3gP1Al30hO01Up03+LHgmGBNIp0lFZSwboJhSCM6103Apu0xuytb46ZUpNmCu34DAGZ8nuJ9W/tFuMTbXOre4FrtAFQGYCT2YlLyMqCRx2q1PZxswJ2/6JTI16bAcriiaWpVuptTErBQzbuhl9j6I+voeOsEm3aNgz63tNfsCN9GGpjZ+Ll64R5htImrDD9tSH6Ai+wpsMRIZyVHlCI+gWEzKJpv1tpdITNELS9AJUMjPpnGsUgARZgGijdAHvMUYPOldZKLFZ9siKK6KcLwf5byQDUgt0GcpR1AcgRnoiHIOzcBgQbsHfECUEpTBZci79r2re0OzNMDHgrsepRd100xj6Fi4mKDNdviDDQO/FSE2PzU06HE5OPAjpG/6b5FsSTYQR/wkJusULdIewnLBWRkOE+s4ArHK0KdKb5nF3BiKn/myBQ+Y4ma+tvavyKPhqQ40z3C1AOt8HUywkFSdRJyLxHrn7AGjCENgoZUAEusfFBqcj/UakdCMZTFCFV+bURZaMdiKyzhan1kmh0w2TME129uedYJeoLmn3mZkfFQ2Ruola/ZOVrWTJovf25NYlMJbAMf6tZIXw56509JLxsvo14ul815lDZFMm9la8EzxkHjaXO3yaLmQoWBfscHD2Jc0LcwsavbTiD5gwOzSLm+v35k2eghL3gyq4f84U8qHv6k4vP9SUV22VDsg2rFAcBavQ+mlnKCNxE0DGnez/WDeWw9qNsN8ljxwCWXlxgxjpPg6gqHIfInF6aScw5CQBs3BZ/8MoRFGN3UkbeTNLLWh6yLc7PwhBUXswK3FCsLFtvlC7UhfHLGm2v25xmh8PWlhS7x6R/+3XOwzyVeNanosUsnjzIwb0jqlq200P5Ruhbbfak0urCYAoloCC16kErWPeWYK9PVKSD/N1Lsok8=
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](../../docs/guides/auth/oauth2#adding-password-authentication).

### Requirements
- The user registered via an OAuth2 provider.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"}},"required":["password"],"title":"AddPasswordAuthenticationRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"oneOf":[{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"name":{"type":"string"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["GUEST"],"title":"Guest"},{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"name":{"type":"string"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["USER","ADMIN"],"title":"User"}]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"207":{"description":"A specific domain error occurred (see list below):\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.\n* **`USER_AVATAR_MAPPING_FAILURE`:** Failed to map avatar metadata.\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.\n* **`USER_AVATAR_MAPPING_FAILURE`:** Failed to map avatar metadata.","content":{"application/json":{"schema":{}}}},"304":{"description":"A specific domain error occurred (see list below):\n* **`PASSWORD_ALREADY_SET`:** Password is already set.\n* **`PASSWORD_ALREADY_SET`:** Password is already set.","content":{"application/json":{"schema":{}}}},"401":{"description":"A specific domain error occurred (see list below):\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{}}}},"404":{"description":"A specific domain error occurred (see list below):\n* **`USER_NOT_FOUND`:** User not found.\n* **`USER_NOT_FOUND`:** User not found.","content":{"application/json":{"schema":{}}}},"500":{"description":"A specific domain error occurred (see list below):\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`HASH_FAILURE`:** Exception representing a general failure related to hashing operations.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`HASH_FAILURE`:** Exception representing a general failure related to hashing operations.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.","content":{"application/json":{"schema":{}}}}}}
>
  
</StatusCodes>


      