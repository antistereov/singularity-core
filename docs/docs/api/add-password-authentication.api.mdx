---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](../../docs/guides/auth/oauth2#adding-password-authentication).

### Requirements
- The user registered via an OAuth2 provider.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"}},"required":["password"],"title":"AddPasswordAuthenticationRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string"},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"PrincipalResponse"}}}},"304":{"description":"The following error codes correspond to this status:\n* **`PASSWORD_ALREADY_SET`:** Password is already set.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`AUTHENTICATION_REQUIRED`:** User is not authenticated.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"404":{"description":"The following error codes correspond to this status:\n* **`USER_NOT_FOUND`:** User not found.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"500":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`HASH_FAILURE`:** Exception representing a general failure related to hashing operations.\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      