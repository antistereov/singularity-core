---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](../../docs/guides/auth/oauth2#adding-password-authentication).

### Requirements
- The user registered via an OAuth2 provider.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"}},"required":["password"],"title":"AddPasswordAuthenticationRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"oneOf":[{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"name":{"type":"string"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["GUEST"],"title":"Guest"},{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"name":{"type":"string"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["USER","ADMIN"],"title":"User"}]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"207":{"description":"The following error codes correspond to this status:\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"304":{"description":"The following error codes correspond to this status:\n* **`PASSWORD_ALREADY_SET`:** Password is already set.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"404":{"description":"The following error codes correspond to this status:\n* **`USER_NOT_FOUND`:** User not found.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"500":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`HASH_FAILURE`:** Exception representing a general failure related to hashing operations.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      