---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](https://singularity.stereov.io/docs/guides/auth/oauth2#adding-password-authentication).

**Requirements:**
- The user registered via an OAuth2 provider.

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string"}},"required":["password"],"title":"ConnectPasswordIdentityRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"304":{"description":"Bad request. User already created a password identity","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      