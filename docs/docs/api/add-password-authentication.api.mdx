---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](https://singularity.stereov.io/docs/guides/auth/oauth2#adding-password-authentication).

**Requirements:**
- The user registered via an OAuth2 provider.

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string"}},"required":["password"],"title":"ConnectPasswordIdentityRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorAuthMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorAuthMethods"],"title":"UserResponse"}}}},"304":{"description":"Bad request. User already created a password identity","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      