---
id: add-password-authentication
title: "Add Password Authentication"
description: "Create a new identity provider for the current user that allows the user to login with a password."
sidebar_label: "Add Password Authentication"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Add Password Authentication"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/users/me/providers/password"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new identity provider for the current user that allows the user to login with a password.

You can learn more about this [here](../../docs/guides/auth/oauth2#adding-password-authentication).

### Requirements
- The user registered via an OAuth2 provider.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"}},"required":["password"],"title":"AddPasswordAuthenticationRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"oneOf":[{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"name":{"type":"string"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["GUEST"],"title":"Guest"},{"allOf":[{"type":"object","properties":{"value":{"type":"string"},"logger":{"type":"object","properties":{"isLoggingOff":{"type":"boolean","deprecated":true,"description":"Use isLoggingOff() instead"},"name":{"type":"string"},"isInfoEnabled":{"type":"boolean","deprecated":true,"description":"Use isInfoEnabled() instead"},"isDebugEnabled":{"type":"boolean","deprecated":true,"description":"Use isDebugEnabled() instead"},"isErrorEnabled":{"type":"boolean","deprecated":true,"description":"Use isErrorEnabled() instead"},"isTraceEnabled":{"type":"boolean","deprecated":true,"description":"Use isTraceEnabled() instead"},"isWarnEnabled":{"type":"boolean","deprecated":true,"description":"Use isWarnEnabled() instead"}},"required":["isDebugEnabled","isErrorEnabled","isInfoEnabled","isLoggingOff","isTraceEnabled","isWarnEnabled","name"],"title":"KLogger"}},"required":["logger","value"],"title":"Role"}],"enum":["USER","ADMIN"],"title":"User"}]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"207":{"description":"The following error codes correspond to this status:\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.\n* **`USER_AVATAR_MAPPING_FAILURE`:** Failed to map avatar metadata.","content":{"application/json":{"schema":{}}}},"304":{"description":"The following error codes correspond to this status:\n* **`PASSWORD_ALREADY_SET`:** Password is already set.","content":{"application/json":{"schema":{}}}},"401":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_EXPIRED`:** Indicates that the access token is expired.\n* **`ACCESS_TOKEN_INVALID`:** Indicates that the access token cannot be decoded.\n* **`STEP_UP_TOKEN_EXPIRED`:** Indicates that the step-up token is expired.\n* **`STEP_UP_TOKEN_INVALID`:** Indicates that the step-up token cannot be decoded.\n* **`STEP_UP_TOKEN_MISSING`:** Thrown when the step-up token is missing.","content":{"application/json":{"schema":{}}}},"404":{"description":"The following error codes correspond to this status:\n* **`USER_NOT_FOUND`:** User not found.","content":{"application/json":{"schema":{}}}},"500":{"description":"The following error codes correspond to this status:\n* **`ACCESS_TOKEN_ALLOWLIST_READING_FAILURE`:** Represents an exception indicating a failure when reading the allowlist for an access token cache.\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`HASH_FAILURE`:** Exception representing a general failure related to hashing operations.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.","content":{"application/json":{"schema":{}}}}}}
>
  
</StatusCodes>


      