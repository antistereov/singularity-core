---
id: create-guest-account
title: "Create Guest Principal"
description: "Create a new [`GUEST`](../../docs/guides/auth/roles#guests) account."
sidebar_label: "Create Guest Principal"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create Guest Principal"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/guests"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Create a new [`GUEST`](../../docs/guides/auth/roles#guests) account.

You can learn more about `GUEST` accounts [here](../../docs/guides/auth/roles#guests).

**Optional session data:**
- The `session` object can be included in the request body.
- Inside the `session` object, you can provide the following optional fields:
    - `browser`: The name of the browser used (e.g., "Chrome", "Firefox").
    - `os`: The operating system of the device (e.g., "Windows", "macOS", "Android").

This information helps users identify and manage authorized sessions, improving overall account security.

### Tokens

If successful, [`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
[`RefreshToken`](../../docs/guides/auth/tokens#refresh-token) 
will automatically be set as HTTP-only cookies.
If [header authentication](../../docs/guides/auth/authentication#header-authentication) is enabled,
[`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
[`RefreshToken`](../../docs/guides/auth/tokens#refresh-token)
will be returned in the response body and can be used as 
bearer tokens in the authorization header for upcoming requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"required":["name"],"title":"CreateGuestRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration successful. Returns user details and tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string"},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"PrincipalResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["user"],"title":"CreateGuestResponse"}}}},"304":{"description":"The following error codes correspond to this status:\n* **`ALREADY_AUTHENTICATED`:** Principal is already authenticated.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}},"500":{"description":"The following error codes correspond to this status:\n* **`DATABASE_FAILURE`:** Exception representing a general failure related to database operations.\n* **`DATABASE_ENCRYPTION_FAILURE`:** Exception representing a general failure related to database encryption operations.\n* **`POST_COMMIT_SIDE_EFFECT_FAILURE`:** Exception representing a failure to perform a side effect after a successful database operation.\n* **`ACCESS_TOKEN_CACHE_FAILURE`:** Thrown when an access token could not be created due to an exception in the access token whitelist.\n* **`ACCESS_TOKEN_ENCODING_FAILURE`:** Represents an exception that occurs during the encoding process of an access token.\n* **`ACCESS_TOKEN_CREATION_FAILURE`:** Thrown when a generic exception occurred during the creation of an access token.\n* **`ACCESS_TOKEN_INVALID_PRINCIPAL_DOCUMENT_FAILURE`:** Indicates that the principal document associated with the access token is invalid.\n* **`ACCESS_TOKEN_SECRET_FAILURE`:** Represents an exception that occurs when there is a failure related to the secret required for creating an access token.\n* **`REFRESH_TOKEN_ENCODING_FAILURE`:** Represents an exception that occurs during the encoding process of a refresh token.\n* **`REFRESH_TOKEN_CREATION_FAILURE`:** Thrown when a generic exception occurred during the creation of an access token.\n* **`REFRESH_TOKEN_INVALID_PRINCIPAL_DOCUMENT_FAILURE`:** Indicates that the principal document associated with the access token is invalid.\n* **`REFRESH_TOKEN_SECRET_FAILURE`:** Represents an exception that occurs when there is a failure related to the secret required for creating a refresh token.\n* **`REFRESH_TOKEN_SESSION_UPDATE_FAILURE`:** Thrown when an exception occurs when updating the user sessions after creating a new refresh token.\n* **`INVALID_PRINCIPAL_DOCUMENT`:** A requested principal document was stored in an invalid format.\n* **`COOKIE_CREATION_FAILURE`:** Thrown when an exception occurred during the creation of a cookie.","content":{"application/json":{"schema":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"code":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["code","error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      