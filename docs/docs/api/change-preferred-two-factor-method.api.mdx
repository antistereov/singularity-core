---
id: change-preferred-two-factor-method
title: "Change Preferred 2FA Method"
description: "Change the preferred 2FA method."
sidebar_label: "Change Preferred 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Change Preferred 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/preferred-method"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Change the preferred 2FA method.

You can learn more about 2FA methods [here](../../docs/guides/auth/two-factor).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.
- At least one of [email](../../docs/guides/auth/two-factor#email) or [TOTP](../../docs/guides/auth/two-factor#totp) as 2FA methods should be enabled.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"method":{"type":"string","enum":["totp","email"]}},"required":["method"],"title":"ChangePreferredTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"400":{"description":"This 2FA method is disabled or the user did not set up authentication via password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"`AccessToken` or `StepUpToken` are invalid or expired or invalid or expired 2FA code.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      