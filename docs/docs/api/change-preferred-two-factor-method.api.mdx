---
id: change-preferred-two-factor-method
title: "Change Preferred 2FA Method"
description: "Change the preferred 2FA method."
sidebar_label: "Change Preferred 2FA Method"
hide_title: true
hide_table_of_contents: true
api: eJztGf1v27j1X+EUYFgNy86lh+GQH4b5mrSXW3s1YufuhiRoaYm2eaFITaTsekH+93vvUbIoR2mdpgNuW39JLPLx8X3zfdxGji9sdHwZTdcmfskTZwo2Kt1SaCcT7qTR0XU/SoVNCpnT53H0Ysn1QjAAYnkh5qIoRMqOXo5YJtzSpIMrfaX/aUqWcM2U4IVmmSkE4zNTugDOssulKMT1X5bO5fZ4OLRSL0rFC+k2A+tgy6wG0gxTk9jhopRAxJADaUMHpM6J1Gd018HBATsX/yplITKg217pmE2BuNKKgojgDUO4CtewnFu7NkU6IILWUimmjWOwdANfbsneohSOBuxKM0Lmv4FhswJKCn9kxZVMESnKworE6JR5ypic0yLRIDSfKZCRdGwOW15wHs8AiR05lJN1zGjBzJxdioxL9RTBHBCGZwxuu5y+nY6fhMsZlz9j3LZ0Z5emVCmbiZq7rSqm5kZoUsLIC4hdvh8libCWdt5/Bi2E8YATkpi+njFpWeGVng7al02cyC/yJ14GIHlc5tVtaAXhhWAS8El7tSQy7pKl1zcHM7BAKrgLA5twXGrUvibNt2QxiPqR+ADUaK5OgJLo+DYqCwVO9gR9JeifcCyG6+Kth8Zec9FdPzK5KMi3z1K4icDFuIaDQODjwBsP34+Qa2Hd9ybdIH3IEXgT/uR5rqowMfzNYnC4jWyyBOPDX26TC8BvZr+JxAEesHm42ElBbFbkNHDWFUA0CkSXGYYktDv4REuOru/uPCEoftysjkNwctIpsQ1LD/Fx7pmI7tqIXFEKWrC50dZTdnR4iP/aQe8iR0dPvYKlBj/OiG/UYCCR3rD3GCHI9NMwTmZAOM/yAFTChQtRAKwnxC89P0LtIp1dYt1CIkCMWCOURS2+t3T7GRmI5lkHCtigsNK5A5YIEdZtxlVgswEULwq+AQqkE5ntOI0KMEo84khjJBeT03P4HJ28OfsJ/r+6OJ1MwVr6UaklaPzMn6/UTOT/LAo5lyKU/MzA9VwjHwri8ChxctUtAFdbFT4Hpz7ydSPKH3KovS0+uM0f/SwB3fMivuKOF/+1tnkjNp2aSQqBDjpy++IHE/E+/Zgj/g36tGDMWovi7I8pwZW0ciYVOOvH7GZ8fvbzaHoKK+OL71+fvYAfkx9G56cnZJmQVp2m0nWbPmyeCCVahG63d+J4A9sg7W/F1yI2jPU+4vqn9ETAC6vseRXDI7pBAyIIz52q4qnf5Grc1sVHNfWQ4Vn5b/FJ5f31WxKMJ3tKkB2o6OnvWF/L1C33NJClkIul2wt4VxUBdd7PKuY8YYH4X0olzmsRN3LfRVg5S+ib+FBskQdaCp1x5yKIfRy2eKjfjzg77C4KU+aPeYC6Xotd4QQstJ+R7X0Vb/dfwtarUr2u9ZP3wJPSEfsDsVxAEhKKHWj9titpoSy1ydoxhU2l9cVIVYhQPpNC3ozljxWOlXlYL2EKu5K8qZeelO50BbtPBFwAd6Xd0/bhvTVFp37hXssX3V6X85ZzhVlJYAAe95agfsBMoJlThLqnmm/uq6ZVBqAyWmUL41AwS+0rGtgUH3KkA392rKKGE5OKr8p5rHKQB5GUBb2Fl7dVxCId/CA4OC+sXiParWqa5bt+C/6FMTdS3INvlu+u+9uiJ8qNJQ0Qd9GQ59KXcUdzPrxXsiGRxYpy6sv96sNot2dzIjLDPJYICW+QAA5lEq6WQNHxd4cQRnbPvsZtloqVUCbHDssW0XUjvglaWWVIYUBr4khLHE1ozuU/6DHYiVxUWmO3xJYk43mpduMS9WkoFlPFXYeoPrhISjB6Qa4RFu4dfanP7UL5PkFTd8dt8qrOwaAO+Mcol3ce9F0b9B2B4tOBrCdeRNtks2V2W7khufek5mNK1ZdA4fl2ROuyAfviMmg1ZpBhCjmU9cEVFA78j5d1UPjxl+kOg/saxl4s/uc5rFTq1x/SX0cYeITdw+GOx5grZdZo2f5qbBeSCwqwcWvKAha/PPvtZljAP268K/OHBPCxSHDPov+PIsGvcdNuj9uyiaehKJdeSPTazUHBy0cEg3N/onIVZ1jVx2NarGvr8aR/eVlU1H5GSOh4av/HfObXGDO9+CLfR9X7xo0/lrIrTquN7ugAjGLL+LxpLp9+gHxNibA57LtX2F7Uc+OTVJ/KTRoS2Wh8dk8evwiVmEygJLDK6QXwvT8xHFVQbQQslZjReDtJDCZZdACqvXQDHMXwvDAoU3MDeayFg2hmbfPq+yco4xpyWETWpyBUJeLBOiDmjhFZkOLFADCXixITeIpfV7pFJc1Ter2XUHYCjGVwlLNXiutE9HrHuBmzXq8dPNifGZaG7M32zuNej53pRJUgHgYuRrT7+4rQZGwfA2Sfxl0+kK6ovq1ZRI6wYI1n3ALBlUUhj7A6wFOenhMo1IGKqj+zQ8jpVo5zKmTAtCAEomMSQbxLZojabsAKMy8+W+a5KQBFVionY5DHogTY+mif1WLFKpc5vsBJiKd/VkrlYqkJ5w4HbIQ6IQj2fgQ1UaLEe5ZA3W7x1eDKmnpmlwbsjkVBhQ4oBbieVLkw8oozQzBMPOyxVizOweIgAmnElpYJhXw0NqmBHC9/SfpCsRQ4W1QykyQkP1ZKClELyMtwUQSPIKjXZDSouBEb0Ji37MHW4CuSkI5Sp/4gKgNp9FeaWQlhY8YTsIqUMn0JkuqzTCaFaT7hDDhDqVQMZVZyw4JRkKXr/tbr/WScQFlM0OQbJ6qeYCxf4Yh0jcqIHHDZYKpYlbRgJ+j+VWCZ+KBUNaaCYigsgKpZRX3878Em9vmBDawCG6Svxq9Xz9nran0X9Xq9Hix0OTDFYlidhWCYq/j54HAg9GDpMkXNVYggPgR9AxuHVMJCZQUKC66qJujj1vR8O29rRbJg3vZ18P518P518P7lBu9VRuXEBzfMFcAGLXjfmLnEdAsHBkAf/Dua8ygY7MXNDBqbJwh+e4vv40Wh7u5wGVKbYuNbQisQAKrLd47qbA/7OTRXqCcacdV9B5GWPt3bmbBj88afQHZyF8Biv6/VZBq/nUwx0a4G95lJKSvja+w+w9/jCEct+XZOQmu3Uf2mwr6/kqaGZasPt5PFEyN1hqo3AVEgEYIgsYNUqgFe5HPCu2tA/jvD+t+A
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Change Preferred 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/preferred-method"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Change the preferred 2FA method.

You can learn more about 2FA methods [here](../../docs/guides/auth/two-factor).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.
- At least one of [email](../../docs/guides/auth/two-factor#email) or [TOTP](../../docs/guides/auth/two-factor#totp) as 2FA methods should be enabled.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"method":{"type":"string","enum":["totp","mail"]}},"required":["method"],"title":"ChangePreferredTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"400":{"description":"This 2FA method is disabled or the user did not set up authentication via password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"`AccessToken` or `StepUpToken` are invalid or expired or invalid or expired 2FA code.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      