---
id: change-preferred-two-factor-method
title: "Change Preferred 2FA Method"
description: "Change the preferred 2FA method."
sidebar_label: "Change Preferred 2FA Method"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Change Preferred 2FA Method"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/2fa/preferred-method"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Change the preferred 2FA method.

You can learn more about 2FA methods [here](../../docs/guides/auth/two-factor).

### Requirements
- The user can authenticate using password. 2FA will not work with OAuth2. 
  The OAuth2 provider will validate the second factor if the user enabled it for the provider.
- At least one of [email](../../docs/guides/auth/two-factor#email) or [TOTP](../../docs/guides/auth/two-factor#totp) as 2FA methods should be enabled.

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token) is required.
- A valid [`StepUpToken`](../../docs/guides/auth/tokens#step-up-token)
  is required. This token should match user and session contained in the `AccessToken`.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"method":{"type":"string","enum":["totp","email"]}},"required":["method"],"title":"ChangePreferredTwoFactorMethodRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Updated user information.","content":{"*/*":{"schema":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"}}}},"400":{"description":"This 2FA method is disabled or the user did not set up authentication via password.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"`AccessToken` or `StepUpToken` are invalid or expired or invalid or expired 2FA code.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      