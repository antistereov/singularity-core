---
id: step-up
title: "Step-Up"
description: "Requests [step-up authentification](https://singularity.stereov.io/docs/guides/auth/authentication#step-up)."
sidebar_label: "Step-Up"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Step-Up"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/auth/step-up"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Requests [step-up authentification](https://singularity.stereov.io/docs/guides/auth/authentication#step-up). 
This re-authentication is required by critical endpoints.

**2FA:**

If the user enabled 2FA, the step-up will not be granted immediately. 
Instead, a [`TwoFactorAuthenticationToken`](https://singularity.stereov.io/docs/guides/auth/tokens#two-factor-authentication-token) 
is set as HTTP-only cookie and returned in the response body
if [header authentication](https://singularity.stereov.io/docs/guides/auth/authentication#header-authentication) is enabled.

You can complete the step-up through the endpoint [`POST /api/auth/2fa/step-up`](https://singularity.stereov.io/docs/api/complete-step-up).

**Request Body:**

When requesting a step-up for a [`GUEST`](https://singularity.stereov.io/docs/guides/auth/roles#guests)
there is no way to authenticate the user.
Therefore, no request body is required in this case.

If you request a step-up for a regular [`USER`](https://singularity.stereov.io/docs/guides/auth/roles#users),
it will result in a `400 - BAD REQUEST`.

### Locale

A locale can be specified for this request. 
This will be used for the email 2FA code if this method is enabled for the user.
You can learn more about 2FA through email [here](/docs/guides/auth/two-factor#email).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](https://singularity.stereov.io/docs/guides/configuration).

### Tokens
- Requires a valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token).
- If 2FA is disabled and the request is successful, [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  will automatically be set as HTTP-only cookie.
  If [header authentication](https://singularity.stereov.io/docs/guides/auth/authentication#header-authentication) is enabled,
  the [`StepUpToken`](https://singularity.stereov.io/docs/guides/auth/tokens#step-up-token)
  will be returned in the response body and can be used to authorized critical requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string"}},"required":["password"],"title":"StepUpRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Logout successful.","content":{"*/*":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"title":"StepUpResponse"}}}},"400":{"description":"Trying to request step-up for user that authenticated only via OAuth2 providers or missing request body for authenticated users.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"Invalid credentials.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      