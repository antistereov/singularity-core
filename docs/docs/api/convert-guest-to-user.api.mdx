---
id: convert-guest-to-user
title: "Convert Guest To User"
description: "Converts a [`GUEST`](../../docs/guides/auth/roles#guests)"
sidebar_label: "Convert Guest To User"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Convert Guest To User"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/guests/convert-to-user"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Converts a [`GUEST`](../../docs/guides/auth/roles#guests) 
account to a regular [`USER`](../../docs/guides/auth/roles#users) account.

You can learn more about `GUEST` accounts [here](../../docs/guides/auth/roles#guests).

### Requirements
- The `email` should be a valid email address (e.g., "test@example.com")
  that is not associated to an existing account.
- The `password` must be at least 8 characters long and include at least one uppercase letter, 
  one lowercase letter, one number, and one special character (!@#$%^&*()_+=\{\}[]|\:;'"&lt;&gt;,.?/).

**Optional session data:**
- The `session` object can be included in the request body.
- Inside the `session` object, you can provide the following optional fields:
    - `browser`: The name of the browser used (e.g., "Chrome", "Firefox").
    - `os`: The operating system of the device (e.g., "Windows", "macOS", "Android").

This information helps users identify and manage authorized sessions, improving overall account security.

### Locale

A locale can be specified for this request. 
This will be used for the email verification email.
You can learn more about email verification [here](../../docs/guides/auth/authentication#email-verification).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](../../docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token)
  of a `GUEST` is required.
- If successful, the tokens of the `GUEST` account become invalid.
    A new [`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](../../docs/guides/auth/tokens#refresh-token) 
    will automatically be set as HTTP-only cookies.
    If [header authentication](../../docs/guides/auth/authentication#header-authentication) is enabled,
    [`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](../../docs/guides/auth/tokens#refresh-token)
    will be returned in the response body and can be used as 
    bearer tokens in the authorization header for upcoming requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"The user's unique email address.","example":"jane.doe@example.com","minLength":1},"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"required":["email","password"],"title":"ConvertToUserRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration successful. Returns user details and tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","email"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","email"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"canEdit":{"type":"boolean"},"canDelete":{"type":"boolean"}},"required":["canDelete","canEdit","ownerId","visibility"],"title":"ContentAccessDetailsResponse"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"originalUrl":{"type":"string"}},"required":["access","createdAt","id","key","renditions","updatedAt"],"title":"FileMetadataResponse"},"createdAt":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["createdAt","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["user"],"title":"ConvertToUserResponse"}}}},"304":{"description":"Account is already regular [`USER`](../../docs/guides/auth/roles#users). Authenticated session state has not changed since last request.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"`email` or `password` are invalid.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"AccessToken is invalid or expired.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"409":{"description":"The email is already in use.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      