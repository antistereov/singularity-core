---
id: convert-guest-to-user
title: "Convert Guest To User"
description: "Converts a [`GUEST`](https://singularity.stereov.io/docs/guides/roles#guests)"
sidebar_label: "Convert Guest To User"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Convert Guest To User"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/guests/convert-to-user"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Converts a [`GUEST`](https://singularity.stereov.io/docs/guides/roles#guests) 
account to a regular [`USER`](https://singularity.stereov.io/docs/guides/roles#users) account.

You can learn more about `GUEST` accounts [here](https://singularity.stereov.io/docs/guides/roles#guests).

**Requirements:**
- The `email` should be a valid email address (e.g., "test@example.com")
  that is not associated to an existing account.
- The `password` must be at least 8 characters long and include at least one uppercase letter, 
  one lowercase letter, one number, and one special character (!@#$%^&*()_+=\{\}[]|\:;'"&lt;&gt;,.?/).

**Optional session data:**
- The `session` object can be included in the request body.
- Inside the `session` object, you can provide the following optional fields:
    - `browser`: The name of the browser used (e.g., "Chrome", "Firefox").
    - `os`: The operating system of the device (e.g., "Windows", "macOS", "Android").

This information helps users identify and manage authorized sessions, improving overall account security.

**Locale:**

A locale can be specified for this request. 
This will be used for the email verification email.
You can learn more about email verification [here](https://singularity.stereov.io/docs/guides/auth/authentication#email-verification).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](https://singularity.stereov.io/docs/guides/configuration).

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token)
  of a `GUEST` is required.
- If successful, the tokens of the `GUEST` account become invalid.
    A new [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](https://singularity.stereov.io/docs/guides/auth/tokens#refresh-token) 
    will automatically be set as HTTP-only cookies.
    If [header authentication](https://singularity.stereov.io/docs/guides/auth/securing-endpoints#header-authentication) is enabled,
    [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](https://singularity.stereov.io/docs/guides/auth/tokens#refresh-token)
    will be returned in the response body and can be used as 
    bearer tokens in the authorization header for upcoming requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"The user's unique email address.","example":"jane.doe@example.com","minLength":1},"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"required":["email","password"],"title":"ConvertToUserRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration successful. Returns user details and tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorAuthMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorAuthMethods"],"title":"UserResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["user"],"title":"ConvertToUserResponse"}}}},"304":{"description":"Account is already regular [`USER`](https://singularity.stereov.io/docs/guides/roles#users). Authenticated session state has not changed since last request.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"`email` or `password` are invalid.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"AccessToken is invalid or expired.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"409":{"description":"The email is already in use.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      