---
id: convert-guest-to-user
title: "Convert Guest To User"
description: "Converts a [`GUEST`](https://singularity.stereov.io/docs/guides/roles#guests)"
sidebar_label: "Convert Guest To User"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Convert Guest To User"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/guests/convert-to-user"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Converts a [`GUEST`](https://singularity.stereov.io/docs/guides/roles#guests) 
account to a regular [`USER`](https://singularity.stereov.io/docs/guides/roles#users) account.

You can learn more about `GUEST` accounts [here](https://singularity.stereov.io/docs/guides/roles#guests).

**Requirements:**
- The `email` should be a valid email address (e.g., "test@example.com")
  that is not associated to an existing account.
- The `password` must be at least 8 characters long and include at least one uppercase letter, 
  one lowercase letter, one number, and one special character (!@#$%^&*()_+=\{\}[]|\:;'"&lt;&gt;,.?/).

**Optional session data:**
- The `session` object can be included in the request body.
- Inside the `session` object, you can provide the following optional fields:
    - `browser`: The name of the browser used (e.g., "Chrome", "Firefox").
    - `os`: The operating system of the device (e.g., "Windows", "macOS", "Android").

This information helps users identify and manage authorized sessions, improving overall account security.

**Locale:**

A locale can be specified for this request. 
This will be used for the email verification email.
You can learn more about email verification [here](https://singularity.stereov.io/docs/guides/auth/authentication#email-verification).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](https://singularity.stereov.io/docs/guides/configuration).

**Tokens:**
- A valid [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token)
  of a `GUEST` is required.
- If successful, the tokens of the `GUEST` account become invalid.
    A new [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](https://singularity.stereov.io/docs/guides/auth/tokens#refresh-token) 
    will automatically be set as HTTP-only cookies.
    If [header authentication](https://singularity.stereov.io/docs/guides/auth/authentication#header-authentication) is enabled,
    [`AccessToken`](https://singularity.stereov.io/docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](https://singularity.stereov.io/docs/guides/auth/tokens#refresh-token)
    will be returned in the response body and can be used as 
    bearer tokens in the authorization header for upcoming requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","description":"The user's unique email address.","example":"jane.doe@example.com","minLength":1},"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"required":["email","password"],"title":"ConvertToUserRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration successful. Returns user details and tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorAuthMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"admin":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["admin","editor","isEmpty","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"contentType":{"type":"string"},"url":{"type":"string"},"size":{"type":"integer","format":"int64"},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","contentType","createdAt","id","key","size","tags","trusted","updatedAt","url"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorAuthMethods"],"title":"UserResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["user"],"title":"ConvertToUserResponse"}}}},"304":{"description":"Account is already regular [`USER`](https://singularity.stereov.io/docs/guides/roles#users). Authenticated session state has not changed since last request.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"`email` or `password` are invalid.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"AccessToken is invalid or expired.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"409":{"description":"The email is already in use.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      