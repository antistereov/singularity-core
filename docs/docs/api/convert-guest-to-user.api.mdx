---
id: convert-guest-to-user
title: "Convert Guest To User"
description: "Converts a [`GUEST`](../../docs/guides/auth/roles#guests)"
sidebar_label: "Convert Guest To User"
hide_title: true
hide_table_of_contents: true
api: eJztW31727YR/yoos7WJJspu02dP661t1MRJvaWNH1tpulmuDZGQhIQCWAK043j+7rs7gCSoF1t2nC595n9sigQOd797wQE4nEeWT0y0dRDt6UyY6LAbpcIkhcyt1Craih5rdSIKaxhnB8fPXm7vD44P70+tzc3WxoaRalJmvJD2rGesKIQ+6Um9kerEbExKCZQ2CiR7b1IKY80DNlQ8SXSpLLMaKBaCugPll/vbezchXBpRAF1PtTdUQ/UvXbKEK5YJXig204VgfKRLyzz7VWPDDqZA+ebS0Gj37t1je+K3UhZiJoDoUMVsMBXsWMy4zI6ZmeoyS9kImGAnPJMpow+Mp2khjGH3RW/S67JhZIHmI/GWz/JM9BI9G0YPhooxO+WWScOUtowboxPJrUgJPsXEW2kscB3I70fPoe2pLtJjNiuNpeEtIgLPX7FkyguegISGZRp7q5RJlWRlGjTTSrAyz0WRcCPgnYX2wCewhF8yfTr3Bd+qcjbCZySIv00ugN+sGZDd/+TRvT/9+ddPO/cfHP3lm/OLg8P/DIdbf/tsGP39227vuw0HaqfzguwPuhoACZ5Yyi3f6nRqAf37Y6ZHr0ViSeMgpRcD5QHoBFjYb6gsNtLpGaGzowxokr7N0+iyM286eaFPqlZjnYGwCLKueBpLkaVmC7FgLGbHo0Kfgh0ebxFris8E02Pq7L8wMNO0UfXjaaFnYhjh81MwnLF+C9ru1fS08aQ0wM9JweYMLHJWkU3FiUxEQ/CVVCkM5CjOePJi3z32VVpomTriQzWYgiFJNdbFjKMobCqy3DDyIQbyKivHZ6S8GVd8AsZQ2qku5Dtg3mNlukzOCB4EBCIDz7LK+qBNUpL3VI7xXCc8E/irDxaDz5WeyDIAxxTwLUAmYMyrqsc8o6cSSENTws61Et55YFzonDgh6FXvEr9f0uf6no9Q0B9EyVG5R4TjkLDDeWcM7loJDJLUwnZJBp7nmW9vQJVjXma2ah0KfZlMiVZjOQG0QQ3OIlpkri9fRTAQAzU40G+EoqDW9+Hr4LifJGAM9OV6IZswtETxHiciMf2iQAemzesQ7c0BfCN1XjtmpqQe4zJzKDo6lUfMxXaAEEIohgNi2rtWnylx+kEEIKdxgxwc74kxhPbpe9IvHJVqAEeczANaaXRg0HR2Rs4kcG5gPwwGu7FW8C7R+o0UxosN4IE98BTiUNuA39sBHNW4/fYBak8oPsrA4CtM/oCQB4iPcCKxZaHCicXk4L+CZhbixUc2ClegDdd9BI4LuHtj9X2rsFoFYVINRrgyB6tFl/ax0PSibiTeAucw7TwBrqOt86gsMsjLriuiy1ySQtB8ElMKE1eZUHTRjfxco9VOCuQTl/Y9w2YD/RJmCOAkh1l8JjBvgITxPMKJDpq6kAOfJeaLwHdxBj8q9422xjwzohuZZArxEgWwZzn2MxajV3Rxcehaw0jfA5bYAka3YFD4GATLjdcGU9LzRVJu/kYOCxTDgu3jV4rPiyN2IzcDwhvXYj7nxakXJ8XPYG5UEjhr52xOKZSoQePXXIleqkWYu0EDUONzoSZ2Gm19foHQuXxsGTcrB0+m2gjIRnzfHtuxt5zOfdhUroXT/kNIDh7uPgJZNov0EzInHA5l/vX+d9/0Ogeb8deHD9wjj99Vj/3439VjOOJwGMOgw+HBcIgDV0N3v4WhDx/0zr/qXqBZ+7zlamPxqdp6ClqV47VFdnkeOZdZj+7lCV+b+qsdSvrAgbqRldaB7KTdgRxvz7kUfW6c8aA2+doiD5vufrHnHL4h0KJgi1LQCxf/SLAvNjfxX1uePTGB1YmLKcHs3YPlEoZSl3eCZBb4MWRnVZQcs6XTVTCvIBJBkOhsdK4TF8q2nle0kunVbaycAUSgkaCpBLYmFC/rMAOvHn6BdgCrGHFpQMIGMVJtqfUFjQ6BGd65qLsQRburoh18cam9Pdt1y5oiNEZeFBzjtQRrW2KkpHvaGVi7C3ACwQNNDRf18LP/5Medn+A/pWjRIVB0UXXH9fcGRez/TLm0CJEfaRieK5Qjg0DWT6w8WQ6APdVPITTpog9ms+0MZTmhHGZ6UYA5D6ouPwqYkpdG50oYq22OcR1BPgxHc11vBFCbJhDlJ7DM/ePa5htxtlQzlHaItG/XpQ8mkqfX7eLSw6uB0adKFDsfJ4In0siRzMBZL7Ob3b2dn/uDbXiz+/L75zuP4WH/h/7e9hPnXabt4iukA6tTEHtVKxZeFQ5W+G4qwRHem8yJFKe3wI0027O8BWDt+vNzoeO76dINUakZas+QOOm45cyuKGbSbYsgL5NCl/kd8L8/8LDKl9btp6whw8fj7IsYzsHkLaotYbcOYJWrt8LGKsyeuEQroiEU4D8HVw0LrHKk2+jcbQN0KXyrQr+R78SViP71S5olHLsDarnM5Irl6c2pTHGZtZbWpkJOpnatxnO6CLlzM50XzjEWwP5UZmKvgnjP58nOCApYva1KStxBzHu54BzLfkIM519MBmv2AzvwwzcshjPwnGyQ8HDcjm9Eq0dYyudCXLwF0arx5vPGbuAzabQs9W2lkT6drnLcFTnkkmQvgMStlRooeLPVtVS2ItirWtoAN1TsWmtWmffdlsTyrKudRaygQRu/gFJytZs6F5oIjaAdtXLQy/waW98k0tRLkCB8PkaZKFaUyhYfhXjSHEl1JEoclqsjMN2W6gIPl0YfJTpdHt1uFSWPjg+qMKkquw5UK1j732q8FuBargFeWBY8OTsqeCpLs6byOZ5oTUBShccHa3bKgCVbtrBzu2etbECXEEucDGpynfYzYYsFu1nJD+4qwfI2cdHYJ2a5zsuMgDsCVzDtuHCZaJi+HL3TapldBDp6XqllIUxLyu0aI2w8txtEr0CxQWB9JnT1ujWLhgPQVs7qHay6F/Z7uPnl4i5V3x8YScN4BpNKenZrVQk91m/2r5ojVAZZphVsyt2hfjLlaoJfweYEw7mpPgl9r02uZfnsFQtoZGxtVxFFoZfslpLBGgNOtPRbzlupWrjLFC4PiHbNUDcQJtD1Nraa0/GXy3Yiq1oMXYSFEbxozgfvkL4B0p8v9aYq92FUa+DOjAF48Tan09w7pG+A9NeLSA/qYoggckmFm+p3GF8XYzoncrUrdLIZpPA/0EkEvD286LY+PKYzdvpwSJM07R/DVGsIU+I32uC53HDlYhv+SDW2Oi7deSr8PakOU9c51Y3mj4yeiJlmjkqE7DVEgAady06Bna2vNiEqzvel2hw8WBKZzrF0rSZ02KCxj0bj7SJcGTWHMi0smhVeLv9JS8w5o6XAgCfdzXnQ/CHPqbTT6rxVpfXhZxeMO6U2asK+eNpvlYgsKZO5YYWPrwQAYeMxSTtX3OBrA3rVynELcTlyTY/aTY+oaeTPxV1Jxtz6sDKuGjdkdwE1F1Td6ZgrEzALZ2M9dusYtKotUGCKILSkoaIGeOMenlY+/o9XgzkB1zWMtUT88BJ6lbr3q/QHhPOX+U3tHjqzMp83el7VGLqh8diXXJDqTHRZwMvbFx95ict8UX78cFTmqwC4LBIsWPT/UST4JR5AYwdN3MYmHoRQutPt+b2g9YKBr3TyrmJ1XeGKpW08cKMPYDDt+qjrhITAZ25gIX8En/kl3sdPL/N1VL1u3Pi4lO0l9R+WRwcQFKu09pp6ru2qYKWux1pVMtXUSC0pFgrqeOpKnarAxtXXtApisMrZZbO+MKYRnvV3dxaQfiUyKhgFjLHephO073zC6uJpAKvEXMlZYIIF0MaXA0L+7VM7JlSaa4k3DIZYbD1nuF03ubkSayTmiqx8xh68d7X/xFZeiLiq0BWpi4xD1eLSF84/FZD6gn6w8ouzZxlXieh0tvBjzDqddlhinzLcJ2E/1mNudTpsx9WOGQbOS7y78YrQGE0XQ6+7D7BYX+0kwr2QeMSpHtLZKsoIb6ku1fHzhFsOXPiTqjlGtmscEUVcVGDpGbo8McSXYYakfe0UwWfKPNd4f2VWZlbGgMekxNJ237VbV1LjVj+zfDIB+o7/USkzG8OaCmnOScD6qBNqwY77sHhKMnHMkgxM2C3IjK5uEaSBuLuioBURbvV8yvZ9lo2y4noODBM7O6pexDFYHMQ2upOQlglNJmhsUgE7Dn9X60dlo7ixlMmZdJdCFO45JYWoAHIYTopgevW1xKCiN+IMNOYsu7kt4FlCPkqVuo6oDOTRDalHVJHIE7CKlNYQEpDqsplMCt38hD7gDGWWxbAeS960iuBpuG87nZ+0FYjFPpp840R+csctBOgim+J3xw647EjMF4aBnaD7+5C178KdP6oLllnh0qqKTr77o+Aj7tqCGLhcbIg+231+8pA99+/nSZ+envYmquzpYrLh+0KYzbP4YW+zJ1RvamcZFXxABHEh6HP4sElrXVizgcKCofyuJqNyXDbQzBfktmJYUDZ7d2vr7tbW3a2tu1tbd7e27m5t3d3auru1dXdr63e/teUX9la8tRt5xqUKKtjc4cABrvqxYIn6uLy1dUBw2I1w+x5bnp/jOuplkV1c4Gt3yQqPDVJpfJ27v2ZFdXjNnSxwpBL5oF39E8AUW7vTjGpvAsm4Xn4VFvsat6rvwhUsPGpwPdBAchu0xcOm1nnI7ov9AW4L+ZtdMypjiAp+ikVX8BdYw7tndTUivTuPqnUa7hbQkFQdX7YOgeb2nEiQaj9FnQVMAXrUggwNEKxQcjsYF4dA/L9O09oh
sidebar_class_name: "post api-method"
info_path: docs/api/singularity-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Convert Guest To User"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/guests/convert-to-user"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Converts a [`GUEST`](../../docs/guides/auth/roles#guests)
account to a regular [`USER`](../../docs/guides/auth/roles#users) account.

You can learn more about `GUEST` accounts [here](../../docs/guides/auth/roles#guests).

### Requirements
- The `email` should be a valid email address (e.g., "test@example.com")
  that is not associated to an existing account.
- The `password` must be at least 8 characters long and include at least one uppercase letter, 
  one lowercase letter, one number, and one special character (!@#$%^&*()_+=\{\}[]|\:;'"&lt;&gt;,.?/).

**Optional session data:**
- The `session` object can be included in the request body.
- Inside the `session` object, you can provide the following optional fields:
    - `browser`: The name of the browser used (e.g., "Chrome", "Firefox").
    - `os`: The operating system of the device (e.g., "Windows", "macOS", "Android").

This information helps users identify and manage authorized sessions, improving overall account security.

### Locale

A locale can be specified for this request. 
This will be used for the email verification email.
You can learn more about email verification [here](../../docs/guides/auth/authentication#email-verification).

If no locale is specified, the applications default locale will be used.
You can learn more about configuring the default locale [here](../../docs/guides/configuration).

### Tokens
- A valid [`AccessToken`](../../docs/guides/auth/tokens#access-token)
  of a `GUEST` is required.
- If successful, the tokens of the `GUEST` account become invalid.
    A new [`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](../../docs/guides/auth/tokens#refresh-token) 
    will automatically be set as HTTP-only cookies.
    If [header authentication](../../docs/guides/auth/authentication#header-authentication) is enabled,
    [`AccessToken`](../../docs/guides/auth/tokens#access-token) and 
    [`RefreshToken`](../../docs/guides/auth/tokens#refresh-token)
    will be returned in the response body and can be used as 
    bearer tokens in the authorization header for upcoming requests.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"locale","in":"query","required":false,"schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"The user's unique email address.","example":"jane.doe@example.com","minLength":1},"password":{"type":"string","description":"The user's chosen password. It must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*()_+={}[]|\\:;'\"<>,.?/).","example":"S3cur3P@ssw0rd!","pattern":"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\\-={}\\[\\]|\\\\:;'\"<,>.?/]).{8,}"},"session":{"type":"object","properties":{"browser":{"type":"string","description":"The name of the browser used.","example":"Chrome"},"os":{"type":"string","description":"The operating system of the device.","example":"WIndows"}},"title":"SessionInfoRequest"}},"required":["email","password"],"title":"ConvertToUserRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Registration successful. Returns user details and tokens if header authentication is enabled.","content":{"*/*":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"name":{"type":"string"},"email":{"type":"string"},"identityProviders":{"type":"array","items":{"type":"string"}},"roles":{"type":"array","items":{"type":"string","enum":["USER","ADMIN","GUEST"]},"uniqueItems":true},"emailVerified":{"type":"boolean"},"lastActive":{"type":"string"},"twoFactorAuthEnabled":{"type":"boolean"},"preferredTwoFactorMethod":{"type":"string","enum":["totp","mail"]},"twoFactorMethods":{"type":"array","items":{"type":"string","enum":["totp","mail"]}},"avatar":{"type":"object","properties":{"id":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"key":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"access":{"type":"object","properties":{"ownerId":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"visibility":{"type":"string","enum":["PRIVATE","PUBLIC","SHARED"]},"users":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"groups":{"type":"object","properties":{"maintainer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"editor":{"type":"array","items":{"type":"string"},"uniqueItems":true},"viewer":{"type":"array","items":{"type":"string"},"uniqueItems":true},"isEmpty":{"type":"boolean"}},"required":["editor","isEmpty","maintainer","viewer"],"title":"ContentAccessPermissions"},"invitations":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date-time"}},"title":"ObjectId"},"uniqueItems":true}},"required":["groups","invitations","ownerId","users","visibility"],"title":"ContentAccessDetails"},"renditions":{"type":"object","additionalProperties":{"type":"object","properties":{"key":{"type":"string"},"size":{"type":"integer","format":"int64"},"contentType":{"type":"string"},"url":{"type":"string"},"width":{"type":"integer","format":"int32"},"height":{"type":"integer","format":"int32"}},"required":["contentType","key","size","url"],"title":"FileRenditionResponse"}},"trusted":{"type":"boolean"},"tags":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["access","createdAt","id","key","renditions","tags","trusted","updatedAt"],"title":"FileMetadataResponse"},"created":{"type":"string"},"groups":{"type":"array","items":{"type":"string"},"uniqueItems":true}},"required":["created","emailVerified","groups","id","identityProviders","lastActive","name","roles","twoFactorAuthEnabled","twoFactorMethods"],"title":"UserResponse"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"location":{"type":"object","properties":{"ipAddress":{"type":"string"},"city":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"City"},"country":{"type":"object","properties":{"confidence":{"type":"integer","format":"int32"},"geoname_id":{"type":"integer","format":"int64"},"is_in_european_union":{"type":"boolean"},"iso_code":{"type":"string"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Country"},"continent":{"type":"object","properties":{"code":{"type":"string"},"geoname_id":{"type":"integer","format":"int64"},"names":{"type":"object","additionalProperties":{"type":"string"}}},"title":"Continent"},"location":{"type":"object","properties":{"accuracy_radius":{"type":"integer","format":"int32"},"average_income":{"type":"integer","format":"int32"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"},"metro_code":{"type":"integer","format":"int32","deprecated":true},"population_density":{"type":"integer","format":"int32"},"time_zone":{"type":"string"}},"title":"Location"}},"required":["city","continent","country","ipAddress","location"],"title":"GeolocationResponse"}},"required":["user"],"title":"ConvertToUserResponse"}}}},"304":{"description":"Account is already regular [`USER`](../../docs/guides/auth/roles#users). Authenticated session state has not changed since last request.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"400":{"description":"`email` or `password` are invalid.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"401":{"description":"AccessToken is invalid or expired.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}},"409":{"description":"The email is already in use.","content":{"*/*":{"schema":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}},"required":["error","status","timestamp"],"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      